!function(){"use strict";angular.module("pr.longpress",[]).directive("onLongPress",["$parse","$timeout",function(n,e){return{restrict:"A",link:function(o,t,i){function r(t){if(l){var r=n(i.onLongPress);(t.originalEvent||t).touches&&(u=(t.originalEvent||t).touches[0].screenY,a=(t.originalEvent||t).touches[0].screenX),e.cancel(c),o.longPressSent=!1,c=e(function(){o.longPressSent=!0,o.$apply(function(){r(o,{$event:t})})},g)}}function s(t){if(l){var r=n(i.onTouchEnd);e.cancel(c),o.longPressSent=!1,i.onTouchEnd&&o.$apply(function(){r(o,{$event:t})})}}var c,u,a,l=void 0==i.longPressMobile||"true"===i.longPressMobile,g=!isNaN(i.longPressDuration)&&parseInt(i.longPressDuration)||600,p=!i.preventOnscrolling||"true"===i.preventOnscrolling,v=15;t.bind("touchstart",r),t.bind("touchend",s),t.bind("mousedown",r),t.bind("mouseup",s),t.bind("click",function(n){!o.longPressSent||i.preventClick&&"true"!==i.preventClick||(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation())}),t.bind("pointerdown",r),t.bind("pointerup",s),p&&t.bind("touchmove",function(n){if(l){var o=(n.originalEvent||n).touches[0].screenY,t=(n.originalEvent||n).touches[0].screenX;(void 0!==u&&void 0!==a&&Math.abs(o-u)>v||Math.abs(t-a)>v)&&e.cancel(c)}})}}}])}();