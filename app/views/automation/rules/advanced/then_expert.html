<!-- Assigned -->
<fieldset>
  <h3>{{_t('heading_advanced_rule_then_further_settings')}}</h3>
  <div class="device-available-block assigned" ng-if="_.size(rule.input.params.advanced.triggerScenes)">
    <a href="" class="btn btn-default btn-tag" title="{{rule.advanced.target.eventSourceDevices[d].deviceName}}" ng-repeat="d in rule.input.params.advanced.triggerScenes track by $index" ng-click="unassignAdvancedEventSource(d)">{{rule.advanced.target.eventSourceDevices[d].deviceName|cutText:true:20}}
      <i class="fa fa-times text-danger" title="{{_t('lb_remove')}}"></i>
    </a>
  </div>
</fieldset>
<!-- Available -->
<fieldset>
  <!--  <div class="device-available-block"> -->
  <a href="" class="btn btn-default btn-tag" title="{{d.deviceName}}" ng-repeat="d in rule.advanced.target.eventSourceDevices track by $index" ng-hide="rule.input.params.advanced.triggerScenes.indexOf(d.deviceId) > -1" ng-click="assignAdvancedEventSource(d.deviceId)">{{d.deviceName|cutText:true:20}}
    <i class="fa fa-plus text-success" title="{{_t('add_new')}}"></i>
  </a>
  <!--  </div> -->
</fieldset>
<!-- Trigger -->
<fieldset>
  <div class="form-group form-inline">
    <label for="advanced_activate"></label><input type="checkbox" ng-model="rule.input.params.advanced.triggerOnDevicesChange" ng-checked="rule.input.params.advanced.triggerOnDevicesChange" /> {{_t('lb_advanced_rule_then_further_settings')}}</label>
    <bb-help-text trans="_t('help_advanced_rule_then_further_settings')"></bb-help-text>
  </div>
</fieldset>